function bTimelineIntervalDirective(e){return{require:"^bTimeline",controllerAs:"bTimelineInterval",controller:["$scope",function(e){this.$templates={},this.useTemplate=function(e,i){this.$templates[e]=i},e.$on("bTimelineIntervalPicked",function(i,n){n!=e.interval?this.unpick():this.picked={beginDate:new Date(n.beginDate),endDate:new Date(n.endDate)}}.bind(this)),this.pick=function(){e.$emit("bTimelineIntervalPick",e.interval)},this.unpick=function(){this.picked=null},this.isPicked=function(){return!!this.picked},this.isPickedPristine=function(){return this.picked?this.picked.beginDate.getTime()!=e.interval.beginDate.getTime()?!1:this.picked.endDate.getTime()!=e.interval.endDate.getTime()?!1:!0:!1}}],link:function(i,n){var t='<div class="b-timeline-interval"><div class="b-timeline-interval__interval b-timeline-interval__interval_draft" ng-if="bTimelineInterval.isPicked()" ng-style="{left:bTimeline.calcIntervalLeft(bTimelineInterval.picked),right:bTimeline.calcIntervalRight(bTimelineInterval.picked)}"><div class="b-timeline-interval__interval__btn"></div></div><div class="b-timeline-interval__interval" ng-class="{\'b-timeline-interval__interval_orign\':bTimelineInterval.isPicked()}" ng-style="{left:bTimeline.calcIntervalLeft(interval),right:bTimeline.calcIntervalRight(interval)}"><div class="b-timeline-interval__interval__btn" ng-click="bTimelineInterval.pick()"></div><div class="b-timeline-interval__interval__form" ng-if="bTimelineInterval.isPicked()" ng-click="$event.stopPropagation()" b-timeline-interval-template-transclude="form"></div></div></div>';n.append(e(t)(i))}}}function bTimelineIntervalTemplateDirective(e){return{restrict:"A",require:"^bTimelineInterval",transclude:"element",link:function(i,n,t,l,a){t.bTimelineIntervalTemplate&&l.useTemplate(t.bTimelineIntervalTemplate,{$e:n,$transclude:a,use:e(t.use)()})}}}function bTimelineIntervalTemplateTranscludeDirective(){return{transclude:!0,link:function(e,i,n){if(e.bTimelineInterval&&n.bTimelineIntervalTemplateTransclude){var t=e.bTimelineInterval.$templates[n.bTimelineIntervalTemplateTransclude];t&&t.$transclude(function(n){var l=n.scope();t.use&&t.use.length&&angular.forEach(t.use,function(i){l[i]=e[i]}),i.append(n)})}}}}angular.module("bTimelineInterval",["bTimeline"]).directive("bTimelineInterval",bTimelineIntervalDirective).directive("bTimelineIntervalTemplate",bTimelineIntervalTemplateDirective).directive("bTimelineIntervalTemplateTransclude",bTimelineIntervalTemplateTranscludeDirective),bTimelineIntervalDirective.$inject=["$compile"],bTimelineIntervalTemplateDirective.$inject=["$parse"];