function bTimelineDirective(e){return{restrict:"A",scope:{beginDate:"=timelineBeginDate",endDate:"=timelineEndDate",intervals:"=timelineIntervals"},controllerAs:"bTimeline",controller:["$scope",function(e){this.$templates={},this.useTemplate=function(e,t){this.$templates[e]=t},this.calcIntervalLeft=function(t){var i=(e.endDate.getTime()-e.beginDate.getTime())/100,n=(t.beginDate.getTime()-e.beginDate.getTime())/i;return n=0>n?0:n,n+"%"},this.calcIntervalRight=function(t){var i=(e.endDate.getTime()-e.beginDate.getTime())/100,n=(e.endDate.getTime()-t.endDate.getTime())/i;return n=0>n?0:n,n+"%"},e.filterTimelineInterval=function(t){return t.beginDate&&t.endDate&&t.beginDate<e.endDate&&t.endDate>e.beginDate?t:void 0}}],link:function(t,i){var n='<div class="b-timeline"><div class="b-timeline__interval" ng-repeat="interval in intervals | filter:filterTimelineInterval" b-timeline-template-transclude="interval"></div></div>';i.append(e(n)(t))}}}function bTimelineTemplateDirective(e){return{restrict:"A",require:"^bTimeline",transclude:"element",link:function(t,i,n,a,r){n.bTimelineTemplate&&a.useTemplate(n.bTimelineTemplate,{$e:i,$transclude:r,use:e(n.use)()})}}}function bTimelineTemplateTranscludeDirective(){return{transclude:!0,link:function(e,t,i){if(e.bTimeline&&i.bTimelineTemplateTransclude){var n=e.bTimeline.$templates[i.bTimelineTemplateTransclude];n&&n.$transclude(function(i){var a=i.scope();n.use&&n.use.length&&angular.forEach(n.use,function(t){a[t]=e[t]}),t.append(i)})}}}}function bInputDatetimeDirective(){function e(e){e.incrBeginHours=function(e){e.beginDate.setHours(e.beginDate.getHours()+1),e.beginDate>e.endDate&&e.beginDate.setTime(e.endDate.getTime())},e.incrBeginMinutes=function(e){e.beginDate.setMinutes(e.beginDate.getMinutes()+5),e.beginDate>e.endDate&&e.beginDate.setTime(e.endDate.getTime())},e.decrBeginHours=function(e){e.beginDate.setHours(e.beginDate.getHours()-1)},e.decrBeginMinutes=function(e){e.beginDate.setMinutes(e.beginDate.getMinutes()-5)},e.incrEndHours=function(e){e.endDate.setHours(e.endDate.getHours()+1)},e.incrEndMinutes=function(e){e.endDate.setMinutes(e.endDate.getMinutes()+5)},e.decrEndHours=function(e){e.endDate.setHours(e.endDate.getHours()-1),e.endDate<e.beginDate&&e.endDate.setTime(e.beginDate.getTime())},e.decrEndMinutes=function(e){e.endDate.setMinutes(e.endDate.getMinutes()-5),e.endDate<e.beginDate&&e.endDate.setTime(e.beginDate.getTime())}}return{restrict:"A",link:e}}angular.module("bTimeline",[]).directive("bTimeline",bTimelineDirective).directive("bTimelineTemplate",bTimelineTemplateDirective).directive("bTimelineTemplateTransclude",bTimelineTemplateTranscludeDirective).directive("bInputDatetime",bInputDatetimeDirective),bTimelineDirective.$inject=["$compile"],bTimelineTemplateDirective.$inject=["$parse"];